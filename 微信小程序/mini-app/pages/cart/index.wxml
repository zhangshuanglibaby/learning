<!-- 
  通过if检测adress控制按钮和收获信息的显示
  adress可能是对象,可能是空字符串(代表没有false),空字符串则显示按钮
 -->

<!-- 获取收获地址 -->
<view class="address">
  <button wx:if="{{!adress}}" bindtap="handleGetAddress" type="primary" plain class="btn-adress">获取收获地址</button>

  <view class="adress_main" wx:else>
    <view class="adress_info">
      <view class="adress_info_name">{{adress.userName}}</view>
      <view>{{adress.detailAdress}}</view>
    </view>
    <view class="tell">{{adress.telNumber}}</view>
  </view>

</view>

<!-- 购物车列表 -->
<view class="cartList">
  <view class="cart_title">购物车</view>
  <view class="cart_info">
    <view class="list_item" wx:for="{{carts}}" wx:key="goods_id">
      <view class="check_wrap commom">
        <checkbox-group bindchange="handleItemChange" data-index="{{index}}">
          <checkbox checked="{{item.checked}}"> </checkbox>
        </checkbox-group>
      </view>
      <view class="img_wrap commom">
        <image mode="widthFix" src="{{item.goods_small_logo}}"></image>
      </view>
      <view class="good_info_wrap">
        <view class="good_name">{{item.goods_name}}</view>
        <view class="good_tool">
          <view class="good_price">￥{{item.goods_price}}</view>
          <view class="good_nums_wrap">
            <view class="btn_nums commom">-</view>
            <view class="good_nums">{{item.num}}</view>
            <view class="btn_nums commom">+</view>
          </view>
        </view>
      </view>
    </view>

  </view>
</view>

<!-- 底部的工具 -->
<view class="bottom_tool">
  <view class="all_check commom">
    <checkbox-group>
      <checkbox checked="{{allChecked}}"></checkbox>
      全选
    </checkbox-group>
  </view>
  <view class="price_info">
    <view>
      合计 :<text class="all_price">￥{{totalPrice}}</text> 
    </view>
    <view class="express">包含运费</view>
  </view>
  <view class="pay commom">结算({{totalNums}})</view>
</view>